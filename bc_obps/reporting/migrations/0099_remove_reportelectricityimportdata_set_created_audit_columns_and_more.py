# Generated by Django 5.0.14 on 2025-05-09 20:31

import pgtrigger.compiler
import pgtrigger.migrations
from django.db import migrations


class Migration(migrations.Migration):

    dependencies = [
        ('reporting', '0098_reportelectricityimportdata_and_more'),
    ]

    operations = [
        pgtrigger.migrations.RemoveTrigger(
            model_name='reportelectricityimportdata',
            name='set_created_audit_columns',
        ),
        pgtrigger.migrations.AddTrigger(
            model_name='reportelectricityimportdata',
            trigger=pgtrigger.compiler.Trigger(
                name='set_created_audit_columns',
                sql=pgtrigger.compiler.UpsertTriggerSql(
                    func="new.created_by_id = (select nullif(current_setting('my.guid', true), '')); new.created_at = now(); return new;",
                    hash='d2fb24e25eff56d3ce0ac218d83ee18638e82dfa',
                    operation='INSERT',
                    pgid='pgtrigger_set_created_audit_columns_c0dc8',
                    table='erc"."report_electricity_import_data',
                    when='BEFORE',
                ),
            ),
        ),
    ]
