# Generated by Django 5.0.13 on 2025-03-19 21:11

from django.db import migrations


def update_source_type(apps, schema_editor):
    ConfigurationElement = apps.get_model("reporting", "ConfigurationElement")
    SourceType = apps.get_model("reporting", "SourceType")
    Activity = apps.get_model("registration", "Activity")
    old_source = SourceType.objects.get(name="Equipment leaks")
    activity = Activity.objects.get(name="Petroleum refining")
    new_source = SourceType.objects.get(name="Equipment leaks at refineries")

    ConfigurationElement.objects.filter(activity=activity, source_type=old_source).update(source_type=new_source)


class Migration(migrations.Migration):

    dependencies = [
        ('reporting', '0075_remove_reportversion_immutable_report_version_and_more'),
    ]

    operations = [
        migrations.RunPython(update_source_type),
    ]
