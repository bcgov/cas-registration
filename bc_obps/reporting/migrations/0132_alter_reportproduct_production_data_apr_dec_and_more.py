# Generated by Django 5.1.12 on 2025-09-22 21:24

from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('registration', '0138_V3_20_0'),
        ('reporting', '0131_V3_20_0'),
    ]

    operations = [
        migrations.AlterField(
            model_name='reportproduct',
            name='production_data_apr_dec',
            field=models.FloatField(
                blank=True,
                db_comment='The total production amount for April to December period, expressed in the unit of this same model. This field is only mandatory for reporting year 2024.',
                null=True,
            ),
        ),
        migrations.AddConstraint(
            model_name='reportproduct',
            constraint=models.CheckConstraint(
                condition=models.Q(
                    ('production_data_apr_dec__isnull', True),
                    ('report_version__report__reporting_year_id', 2024),
                    _negated=True,
                ),
                name='production_data_apr_dec_only_mandatory_for_2024',
                violation_error_message='A value for production_data_apr_dec must be provided if reporting year is 2024',
            ),
        ),
    ]
