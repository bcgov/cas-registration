# Generated by Django 5.1.15 on 2026-01-07 16:47

from django.db import migrations, models


def set_regulated_name(apps, schema_editor):
    Activity = apps.get_model('registration', 'Activity')

    for activity in Activity.objects.all():
        activity.regulated_name = activity.name
        activity.save()


def update_activity_name(apps, schema_editor):
    Activity = apps.get_model('registration', 'Activity')

    Activity.objects.filter(slug='gsc_excluding_line_tracing').update(
        name='General stationary combustion excluding line tracing (at SFO)'
    )
    Activity.objects.filter(slug='gsc_solely_for_line_tracing').update(
        name='General stationary combustion (line tracing)'
    )
    Activity.objects.filter(slug='gsc_other_than_non_compression').update(
        name='General stationary combustion (compression and processing)'
    )
    Activity.objects.filter(slug='gsc_non_compression').update(
        name='General stationary combustion (other than compression and processing)'
    )
    Activity.objects.filter(slug='natural_gas_activities_other_than_non_compression').update(
        name='Natural gas transmission (compression and processing)'
    )
    Activity.objects.filter(slug='natural_gas_activities_non_compression').update(
        name='Natural gas transmission (other than compression and processing)'
    )
    Activity.objects.filter(slug='og_activities_other_than_non_compression').update(
        name='Oil & Gas extraction (compression and processing)'
    )
    Activity.objects.filter(slug='og_activities_non_compression').update(
        name='Oil & Gas extraction (other than compression and processing)'
    )


class Migration(migrations.Migration):

    dependencies = [
        ('registration', '0155_V5_0_1'),
    ]

    operations = [
        migrations.AddField(
            model_name='activity',
            name='regulated_name',
            field=models.CharField(
                db_comment='The regulated name of an activity as it appears in Schedule A of the British Columbia Greenhouse Gas Emission Reporting Regulation https://www.bclaws.gov.bc.ca/civix/document/id/lc/statreg/249_2015#ScheduleA',
                default='foo',
                max_length=1000,
            ),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name='historicalactivity',
            name='regulated_name',
            field=models.CharField(
                db_comment='The regulated name of an activity as it appears in Schedule A of the British Columbia Greenhouse Gas Emission Reporting Regulation https://www.bclaws.gov.bc.ca/civix/document/id/lc/statreg/249_2015#ScheduleA',
                default='foo',
                max_length=1000,
            ),
            preserve_default=False,
        ),
        migrations.AlterField(
            model_name='activity',
            name='name',
            field=models.CharField(
                db_comment='The display name of an activity. This is the name that will appear on the frontend when users are selecting activities to report on',
                max_length=1000,
            ),
        ),
        migrations.AlterField(
            model_name='historicalactivity',
            name='name',
            field=models.CharField(
                db_comment='The display name of an activity. This is the name that will appear on the frontend when users are selecting activities to report on',
                max_length=1000,
            ),
        ),
        migrations.RunPython(set_regulated_name),
        migrations.RunPython(update_activity_name),
    ]
